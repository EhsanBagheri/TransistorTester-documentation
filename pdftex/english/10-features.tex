%\newpage
\chapter{Features}
\label{sec:features}
\begin{enumerate} \setlength{\itemsep}{0pt}
\item Operates with ATmega8, ATmega168 or ATmega328 microcontrollers. Additionally ATmega644, ATmega1284,
ATmega1280 or ATmega2560 microcontrollers can be used.
\item Displays the results to a 2x16 or a 4x16 character LCD display.
 If the processor has at least 32K flash memory, also a graphical display with 128x64 pixel and
a ST7565, ST7920, NT7108, KS0108 or a SSD1306 controller can be used.
In doing so, a 4-wire SPI interface or an I\textsuperscript{2}C bus must be used instead of the 4-bit parallel interface for
the SSD1306 controller.
Even color displays with ILI9163 or ST7735 controllers are usable via the SPI interface.
For the NT7108 or KS0108 controller you must use a serial-to-parallel interface with a 74HC(T)164 or a 74HC(T)595.
Displays with PCF8812 or PCF8814 controller can only be used without the big icons for transistors, because the display size is
unsufficient (102x65 and 96x65).
\item One key operation with automatic power shutdown.
\item Battery operation is possible since shutdown current is only about \(20nA\).
\item Low cost version is feasible without crystal and auto power off.
With software version 1.05k the sleep mode of the Atmega is used to reduce current if
no measurement is required and no rotary encoder is used (not with ATmega8).
\item Automatic detection of NPN and PNP bipolar transistors, N- and P-channel MOSFETs, JFETs,
diodes, double diodes,N- and P-IGBTs, thyristors and triacs.
For thyristors and triacs, the ignition current and holding current must be reached with the tester.
For IGBTs the \(5V\) signal should be enough for driving the gate voltage.
\item Automatic detection of pin layout of the detected part.
\item Measuring of current amplification factor and base-emitter threshold voltage of bipolar transistors.
\item Darlington transistors can be identified by the threshold voltage and high current amplification factor.
\item Detection of the protection diode of bipolar transistors and MOSFETs.
\item Measuring of the gate threshold voltage, the gate capacitance and the R\textsubscript{DSon} at almost \(5V\) gate voltage of MOSFETs.
\item Up to two resistors are measured and shown with symbols
\begin{circuitikz}
\draw (0,0) to[european resistor] (0:1); \end{circuitikz}
and values with up to four decimal digits in the right dimension.
All symbols are surrounded by the probe numbers of the Tester (1-3).
Potentiometers can also be measured. If the potentiometer is adjusted to one of its ends,
the Tester cannot differentiate the wiper pin and the end pin.
\item Resolution of resistor measurement is now up to \(0.01\Omega\) and values up to \(50M\Omega\) are detected.
\item One capacitor can be detected and measured. It is shown with symbol
\begin{circuitikz}
\draw (0,0) to[capacitor] (0:1);
\end{circuitikz}
and values with up to four decimal digits in the right dimension. 
The value can be from \(25pF\) (\(8MHz\) clock, \(50pF\) @\(1MHz\) clock) to \(100mF\). The resolution can be up to \(1pF\) (@\(8MHz\) clock).
\item For capacitors with a capacitance greater than \(20nF\) the equivalent serial resistance (ESR) is measured 
with a resolution of \(0.01\Omega\) and is shown with two significant decimal digits.
This feature is only available for ATmega chips with at least 16K flash memory.
\item For capacitors with a capacitance greater than \(5000pF\) the voltage loss after a load pulse can be determined.
The voltage loss gives a hint regarding the quality factor of the capacitor.
\item Up to two diodes are shown with symbol
\begin{circuitikz}
\draw (0,0) to[full diode] (0:1);
\end{circuitikz}
or symbol
\begin{circuitikz}
\draw (0,0) to[full diode] (180:1);
\end{circuitikz}
in correct order. Additionally the voltage drops are shown.
\item LED is detected as diode, the voltage drop is much higher than normal. 
Two-in-one LEDs are also detected as two diodes.
\item Zener diodes can be detected if the reverse breakdown voltage is below \(4.5V\).
These are shown as two diodes, you can identify this part only by the voltages.
The outer probe numbers, which surround the diode symbols, are identical in this case.
You can identify the real anode of the diode only by the one with breakdown (threshold) voltage near \(700mV\)!
\item If more than three diode type parts are detected, the number of detected diodes is shown in addition to the failure message.
 This can only happen if diodes are attached to all three probes and at least one is a Zener diode.
In this case you should only connect two probes and start measurement again, one after the other.
\item Measurement of the capacitance of a single diode in reverse direction.
Bipolar transistors can also be analysed if you connect the base and only one of collector or emitter.
If an ATmega with more than 8K flash memory is used, also the reverse current of the diode is measured with
a resolution of \(2nA\).
The value is only output to the screen if it is greater than zero.
\item Only one measurement is needed to find out the connections of a bridge rectifier.
\item Capacitors with value below \(25pF\) are usually not detected, but can be measured together with
a parallel diode or a parallel capacitor with at least \(25pF\).
In this case you must subtract the capacitance of the parallel-connected part.
For processors with at least 32K flash memory, the tester switches to a special capacitance meter function
if a capacitor with more than \(25pF\) is detected between TP1 and TP3. In this capacitor meter mode you
can measure capacitors below \(25pF\) at TP1 and TP3 directly.
\item For resistors below \(2100\Omega\), inductance will also be measured if
your ATmega has at least 16K flash memory.
For that, a inductor icon
\begin{circuitikz}
\draw (0,0) to[american inductor] (180:1);
\end{circuitikz}
is shown behind the resistor icon
\begin{circuitikz}
\draw (0,0) to[european resistor] (0:1);
\end{circuitikz}
.
The range will be from about \(0.01mH\) to more than \(20H\), but the accuracy is not good.
The measurement result is only shown with a single component connected.
\item Testing time is about two seconds but capacitance or inductance measurement can take more time.
\item Software can be configured to enable a series of measurements before power will be shut down.
\item Built-in self-test function with optional \(50Hz\) frequency generator to check the accuracy of clock frequency and wait calls (only for processors with at least 32K flash memory).
\item Selectable facility to calibrate the internal port resistance of port output and
the zero offset of capacitance measurement using self-test (only for processors with at least 16K flash memory).
An external capacitor with a value between \(100nF\) 
and \(20\mu F\) connected to pin~1 and pin~3 is necessary to compensate the offset voltage of the analog comparator.
This can reduce measurement errors of capacitors of up to \(40\mu F\).
With the same capacitor, a correction voltage to the internal reference voltage is found to adjust the
gain for ADC measuring with the internal reference.
\item Display the collector cutoff current \(I_{CE0}\) with currentless base (\(1\mu A\) units) and
collector residual current \(I_{CES}\) with base held to emitter level (only for processors with at least 16K flash).
These values are only shown if they are not zero (especially for germanium transistors).
\item For an ATmega with at least 32K flash memory, the tester changes the operation mode from universal tester
to a resistor tester if only one resistor is detected at the test pin 1 (TP1) and test pin 3 (TP3).
If you have selected the additional measurement of inductance for the resistor meter function with the 
Makefile option RMETER\_WITH\_L, the inductance of components is also measured in this mode.
This special operating mode is indicated with a [R] or [RL] at the right side of the first display line.
This mode change is simimar to how the tester changes to a capacitance meter function if a capacitor is detected at TP1 and TP3.
This operation mode is indicated with a [C] at the right side of the first display line.
With this capacitance meter function, capacitance values are shown down to \(1pF\). Only for the automatic
start you need a capacitor with more than \(25pF\).
Both special modes can be finished by a key press. 
The tester will then continue with the normal tester function.
\item For processors with at least 32K flash a dialog function can be selected, which enables additional functions.
Of course you can return from the dialog to the normal Transistor Tester function.
\item With the dialog function you can perform a frequency measurement at port PD4 of the ATmega.
The resolution is \(1Hz\) for input frequencies above \(33kHz\).
For lower frequencies the resolution can be up to \(0.001mHz\) by measuring the mean period.
You should read the the subsection Frequency measurement~\ref{sec:frequency_counter} at page~\pageref{sec:frequency_counter} 
for details of connecting a frequency signal.
\item With the dialog function and without the serial output activated, an external voltage of up to \(50V\) can be measured with
a 10:1 voltage divider at the PC3 port. If the PLCC-Version of the ATmega328 is used, one of the additional
pins can be used for voltage measurement together with the serial output.
If the zener diode measurement extension (DC-DC converter) is assembled, the measurement of
zener diodes is also possible with this function by pressing the key.
\item With the dialog function a frequency output can be selected at the TP2 pin (PB2 Port of the ATmega).
Currently, frequencies from \(1Hz\) up to \(2MHz\) can be selected.
\item With the dialog function a fixed frequency output with selectable pulse width can be activated at the TP2 pin
(PB2 port of the ATmega). The width can be enhanced by \(1\%\) using a short key press or by \(10\%\) using a longer key press.
\item With the dialog function a separate capacitance measurement with ESR measurement can be requested.
Capacitances from about \(2\mu F\) up to \(50mF\) can usually be measured in-circuit, because only a small 
measurement voltage of about \(300mV\) is used.
\item If your ATmega has at least 32K flash memory (Mega328), you can also use the sampling method of the ADC,
which can measure capacitors with less than 100pF at a resolution of up to 0.01pF.
With the same method, you can also measure coils with less than 2mH with significantly better resolution of the inductance
by building a resonant circuit with a parallel capacitor of known capacitance.

\end{enumerate}

You should make sure that all capacitors have no residual charge before starting any measurement,
especially if you use the tester for measurement of capacitors in circuit.

Thyristors and triacs can only be detected if the test current is above the holding current.
Some thyristors and triacs need as higher gate trigger current than this Tester can deliver.
The available testing current is only about \(6mA\)!
Also an IGBT can only be detected correctly if a voltage of \(5V\) is sufficient to drive the gate.
Note that many features can only be used with microcontroller with enough program memory such as ATmega168.
Only processors with at least 32k flash memory like ATmega328 or ATmega1284 can provide all features.

\vspace{1cm}
\textbf{\Large {Attention:}} Allways be sure to \textbf {discharge capacitors} before connecting them to the Tester!
The Tester may be damaged before you have switched it on. There is minimal protection at the ATmega ports.

Extra caution is required if you try to test components mounted in a circuit.
In either case the equipment should be disconnected from power source and you should be sure,
that \textbf {no residual voltage} remains in the equipment.

